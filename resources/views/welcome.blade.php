<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Birdev">
    <meta name="description" content="La expo más importante en construcción de Puebla."/>
    <meta name="twitter:description" content="La expo más importante en construcción de Puebla."/>

    <meta property="og:title" content="Regístrate para acudir a la expo dde construcción más importante de Puebla" />
    <meta property="og:url" content="http://expohomedesign.com/registrate/" />
    <meta property="og:image" content="http://expohomedesign.com/registrate/img/logo.png" />
    <meta property="og:description" content="La expo más importante en construcción de Puebla." />
    <meta property="og:site_name" content="Compartir" />


    <title>Regístrate para acudir a la expo Construye Gatza de Puebla</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/2.3.3/css/AdminLTE.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/2.3.3/css/skins/_all-skins.min.css">

    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

      <style media="screen">

      @keyframes spinner {
        0% {
          transform: rotateZ(0deg);
        }
        100% {
          transform: rotateZ(359deg);
        }
      }
      * {
        box-sizing: border-box;
      }

      #login.loading button .spinner {
        opacity: 1;
        top: 40%;
      }

      #login.loading button #spin2 {
        opacity: 1;
        top: 40%;
      }

      #login.ok button {
        background-color: #8bc34a;
      }

      #login.error button {
        background-color: red;
      }

      #login.ok button #spin2 {
        opacity: 0;
      }
      #login.ok button .spinner {
        border-radius: 0;
        border-top-color: transparent;
        border-right-color: transparent;
        height: 20px;
        animation: none;
        transform: rotateZ(-45deg);
      }

      #login.error button .spinner {
        border-radius: 0;
        border-top-color: transparent;
        border-right-color: transparent;
        border-left-color: transparent;
        height: 0px;
        width: 50px;
        animation: none;
        transform: rotateZ(-45deg);
      }

      #login.error button #spin2 {
        border-radius: 0;
        border-top-color: transparent;
        border-right-color: transparent;
        border-left-color: transparent;
        height: 0px;
        width: 50px;
        animation: none;
        transform: rotateZ(45deg);
      }

      #login input {
        border-width: 0px 0px 1px 0px;
          border-style: solid;
          border-color: #ccc;
          -webkit-transition: border-color 1s ease, border-width 1s ease;
          transition: border-color 1s ease, , border-width 1s ease;
          background-color: transparent;
      }

      #login input:hover {

          border-color: #2196F3;
          border-width: 0px 0px 1.5px 0px;
          background-color: transparent;
      }

      #login input:focus {

          border-color: #2196F3;
          border-width: 0px 0px 1.5px 0px;
          background-color: transparent;
      }

      #login label {
        text-transform: uppercase;
        color: #595F6E;
      }

      .form-group
      {
        text-align:left !important;
        margin-bottom: 30px !important;
      }

      .error
      {
        border-color: red !important;
      }

      #login button {
        width: 100%;
        height: 100%;
        padding: 10px 10px;
        /* background: #2196F3; */
        background: #B1C197;
        color: #fff;
        display: block;
        border: none;
        margin-top: 20px;
        position: absolute;
        left: 0;
        bottom: 0;
        max-height: 60px;
        border: 0px solid rgba(0, 0, 0, 0.1);
        border-radius: 0 0 2px 2px;
        transform: rotateZ(0deg);
        transition: all 0.1s ease-out;
        border-bottom-width: 7px;
      }

      #login .spinner ,#spin2{
          display: block;
          width: 40px;
          height: 40px;
          position: absolute;
          border: 4px solid #ffffff;
          border-top-color: rgba(255, 255, 255, 0.3);
          border-radius: 100%;
          left: 50%;
          top: 0;
          opacity: 0;
          margin-left: -20px;
          margin-top: -20px;
          animation: spinner 0.6s infinite linear;
          transition: top 0.3s 0.3s ease, opacity 0.3s 0.3s ease, border-radius 0.3s ease;
          box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.2);
      }


      #login.loading button {
          position: fixed;
          max-height: 100%;
          padding-top: 50px;
      }

      #login label {
          margin-bottom: 6px;
          display: block;
          font-family: 'lato', sans-serif;
          text-transform: uppercase;
          font-size: 13px;
          color: #999;
          letter-spacing: 0.12em;
      }

      #login span {
          display: block;
          font-family: 'lato', sans-serif;
          text-transform: uppercase;
          font-size: 13px;
          color: white;
          letter-spacing: 0.12em;
      }

      #left-side header span {
          margin-bottom: 6px;
          display: block;
          font-family: 'lato', sans-serif;
          text-transform: uppercase;
          font-size: 13px;
          color: #999;
          letter-spacing: 0.12em;
      }

      #left-side header h3 {
          margin: 0;
          font-family: 'lato', sans-serif;
          /* font-family: 'Playfair Display', serif; */
          font-size: 54px;
          font-weight: 900;
          line-height: 72px;
          letter-spacing: 0.01em;
          text-transform: uppercase;
          color: #888585;
          margin-top: 50px;
        }

      #login select {
          display: block;
          width: 100%;
          margin-top: 30px;
          height: 34px;
          padding: 6px 12px;
          font-size: 14px;
          line-height: 1.42857143;
          color: #555;
          background-color: #fff;
          background-image: none;
          border: 1px solid #ccc;
          border-style: solid;
          border-color: #ccc;
          -webkit-transition: border-color 1s ease;
      }

      .hecho {
        font-size: 25px !important;
      }
      
.navbar{
    margin-bottom: 0px !important;
}
.nav li a{
    padding: 40px 30px;
    font-family: "Roboto",Arial,Tahoma,sans-serif;
    font-size:15px;
    border-left:1px solid #eee;
}

.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:focus, .navbar-default .navbar-nav > .active > a:hover{
    background: #f5f5f5;
    color:#27cfd3;
}

.navbar-default .navbar-nav > li > a:focus, .navbar-default .navbar-nav > li > a:hover{
    background: #f5f5f5;
    color:#27cfd3;
}

.navbar-collapse{
    background:#ffffff;
}

      </style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96347408-1', 'auto');
  ga('send', 'pageview');

</script>
    </head>
<body>
@if(!Auth::guest())
<script>
       // window.location = "{{ url('/') }}";
</script>
@endif
  <!-- <section class="content-header">
  <h1>
  Registro
  </h1>
  </section> -->
<nav role="navigation" class="navbar navbar-default">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="#" class="navbar-brand"><img class="logo-main scale-with-grid" src="http://www.birdev.mx/gatza/wp-content/uploads/2017/10/logoGatza-1.png" alt="LogoExpoGatza" style="width: 250px; "></a>
        </div>
        <!-- Collection of nav links and other content for toggling -->
        <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://www.birdev.mx/gatza">Inicio</a></li>
                <li><a href="http://www.birdev.mx/gatza/#about">Acerca de Expo Construye Gatza</a></li>
                <li ><a href="http://www.birdev.mx/gatza/#gallery">Expositores</a></li>
                <li><a href="http://www.birdev.mx/gatza/#pricing">Programa</a></li>
                <li class="active"><a href="http://birdev.mx/gatza/registro/public/">Registro</a></li>
                <li><a href="http://www.birdev.mx/gatza/registro/public/login">Entrar</a></li>
            </ul>  
        </div>
</nav>
 


  <div id="left-side" class="content col-md-12" style="background:#fff url(img/bgRegistro.jpg) no-repeat center; position: relative; min-height: 100vh; text-align: center; background-size: cover;">
    <header>
        <span>Únete al evento más importante de construcción en Puebla</span>
        <img style="max-height: 150px;" src="http://www.birdev.mx/gatza/wp-content/uploads/2016/05/Imagentexto1.png" class="img-responsive center-block" alt="logo-expohome">
        <h1>¡Registrate ahora!</h1>
    </header>

    <div class="col-md-6 col-md-offset-3 col-xs-10 col-xs-offset-1" style="background:transparent; position: relative; min-height: 70vh; text-align: center; padding: 60px 60px 60px 60px;">
    @include('adminlte-templates::common.errors')
      <div class="row">
        {!! Form::open(['route' => 'registroUsuarios.store','id'=>'login']) !!}


        <!-- Nombre Field -->
        <div class="form-group col-sm-12">
          {!! Form::label('nombre', 'Nombre') !!}
          {!! Form::text('nombre', null, ['class' => 'form-control']) !!}
        </div>

        <!-- Apellido Paterno Field -->
        <div class="form-group col-sm-12">
          {!! Form::label('apellidos', 'Apellidos') !!}
          {!! Form::text('apellidos', null, ['class' => 'form-control']) !!}
        </div>


        <!-- email Field -->
        <div class="form-group col-sm-12">
          {!! Form::label('email', 'email') !!}
          {!! Form::email('email', null, ['class' => 'form-control']) !!}
        </div>

        <div class="form-group col-sm-12">
          {!! Form::label('telefono', 'Telefono') !!}
          {!! Form::text('telefono', null, ['class' => 'form-control']) !!}
        </div>


        {!! Form::text('pagina', '1', ['class' => 'form-control hidden']) !!}
 

        <button style="margin-top: -100px;" id="boton" type="submit">
          <i class="spinner"></i>
          <i id="spin2"></i>
          <span class="state">Registrar</span>
        </button>
        <!-- </div> -->

        {!! Form::close() !!}
        <!-- </div>-->
        </div>
    </div>
  </div>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<!-- <script src="http://localhost:8000/jquery-3.1.1.min.js"></script> -->

<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/js/select2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iCheck/1.0.2/icheck.min.js"></script>

<!-- AdminLTE App -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/2.3.3/js/app.min.js"></script>


<script>
function no_error()
{
  setTimeout(function ()
  {
    $('#nombre').removeClass('error');
    $('#apellidos').removeClass('error');
    $('#email').removeClass('error');
  }, 6000);
}
function validar()
{
  console.log('Entro');
  var flag=true;
  if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test($('#email').val()))
  {
    console.log('SI');
  }
  else
  {
    flag=false;
    $('#email').addClass('error');
  }
  if($('#nombre').val() == '') 
  {
    flag=false;
    $('#nombre').addClass('error');
  }
  if($('#apellidos').val() == '')
  {
    flag=false;
    $('#apellidos').addClass('error');
  }
  
  if($('#email').val() == '')
  {
    $('#email').addClass('error');
    flag=false;
  }
  return flag;
}

$(document).ready(function()
{
    var working = false;
    $('#login').on('submit', function (e) {
        e.preventDefault();
        if (working)
            return;
        working = true;
        var $this = $(this), $state = $this.find('button > .state');
        $this.addClass('loading');
        $state.html('Verificando ...');
        var aca=validar();
        setTimeout(function () {
            if(aca)
            {
              $this.addClass('ok');
              $state.html('Registro exitoso !');
              setTimeout(function () {
                  $state.addClass('hecho');
                  //$state.html('Bienvenido a Expo construye Gatza !!!');
                  $state.html('Bienvenido a Expo construye Gatza !!!<br><br><a href="http://birdev.mx/gatza/">Regresar al inicio</a>');

                  // $this.removeClass('ok loading');
                  working = false;
                  // var form = document.getElementById('login');
                  // form.submit();
                  console.log("{{ URL::to('/') }}/registroUsuarios");
                        console.log("Aca");
                        var formData =
                        {
                            'nombre': $('#nombre').val(),
                            'apellidos': $('#apellidos').val(),
                            'email': $('#email').val(),
                            'telefono': $('#telefono').val(),
                            'pagina':  $('input[name=pagina]').val(),
                            '_token':  $('input[name=_token]').val()
                        };
                        $.ajax({
                            type        : 'POST',
                            url         : "{{ URL::to('/') }}/registroUsuarios",
                            data        : formData,
                            dataType    : 'json',
                            encode          : true
                        })
                        .done(function(data)
                        {
                            console.log(data);
                            $('#boton').append('<a href="http://www.birdev.mx/gatza" class="btn btn-primary btn-ripple" style="margin-top: 30px; background-color: #2196F3; border-color: #2196F3;">Ir Expo construye Gatza</a>');
                        });
                        // event.preventDefault();
              }, 2000);
            }
            else
            {
              $this.addClass('error');
              $state.html('Verifica los campos');
              setTimeout(function () {
                  $state.html('Registrar');
                  $this.removeClass('error loading');
                  working = false;
              }, 2000);
            }
            no_error();
        }, 2000);
    });
});
</script>

</html>

